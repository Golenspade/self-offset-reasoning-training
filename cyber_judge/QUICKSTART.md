# ğŸš€ èµ›åšè£åˆ¤é•¿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

### ç¡¬ä»¶
- **M3 Air**: ç”¨äºè¿è¡Œ Bot å’Œæ•°æ®å¤„ç†
- **RTX 4060 Laptop** (å¯é€‰): ç”¨äºæœ¬åœ°æ¨¡å‹å¾®è°ƒ

### è½¯ä»¶
- Python 3.10+
- Go 1.21+
- Git

## ğŸ”§ å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
cd cyber_judge
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ Cerebras API Key
```

### 3. å®‰è£…ä¾èµ–

```bash
make install
```

## ğŸ“Š æ•°æ®å‡†å¤‡ï¼ˆä¸‰æ­¥èµ°ï¼‰

### Step 1: çˆ¬è™«æŠ“å–

```bash
make crawl
```

è¿™ä¼šå¯åŠ¨ Go çˆ¬è™«ï¼ŒæŠ“å–è´´å§æ•°æ®åˆ° `data/raw/raw_judgments.json`

**é¢„è®¡æ—¶é—´**: 5-10 åˆ†é’Ÿ  
**äº§å‡º**: 500-1000 æ¡åŸå§‹æ•°æ®

### Step 2: æ•°æ®æ¸…æ´—

```bash
make clean
```

æ¸…æ´—åŸå§‹æ•°æ®ï¼Œè¿‡æ»¤æ— æ•ˆå†…å®¹ï¼Œè¾“å‡ºåˆ° `data/processed/cleaned_judgments.json`

**é¢„è®¡æ—¶é—´**: 1-2 åˆ†é’Ÿ  
**äº§å‡º**: 200-500 æ¡é«˜è´¨é‡æ•°æ®

### Step 3: LLM è’¸é¦

```bash
make distill
```

ä½¿ç”¨ Cerebras API å¯¹æ•°æ®è¿›è¡Œè’¸é¦ï¼Œç”Ÿæˆï¼š
- `data/examples/production_examples.txt` (Few-Shot ç¤ºä¾‹)
- `data/examples/train.jsonl` (è®­ç»ƒæ•°æ®)

**é¢„è®¡æ—¶é—´**: 5-10 åˆ†é’Ÿï¼ˆå–å†³äºæ•°æ®é‡ï¼‰  
**è´¹ç”¨**: çº¦ $0.1-0.5 (ä½¿ç”¨ Llama 3.3 70B)

### ä¸€é”®å®Œæˆ

```bash
make all
```

## ğŸ¤– å¯åŠ¨ Bot

### 1. å®‰è£… NapCatQQ

```bash
# ä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰
docker pull mlikiowa/napcat-docker:latest

docker run -d \
  --name napcat \
  -p 3000:3000 \
  -p 3001:3001 \
  mlikiowa/napcat-docker:latest
```

è®¿é—® `http://localhost:3000` æ‰«ç ç™»å½• QQ

### 2. å¯åŠ¨èµ›åšè£åˆ¤é•¿

```bash
make run-bot
```

Bot ä¼šè¿æ¥åˆ° NapCatQQï¼Œå¼€å§‹ç›‘å¬æ¶ˆæ¯ã€‚

## ğŸ® ä½¿ç”¨æ–¹æ³•

### åœ¨ QQ ç¾¤ä¸­

1. **æ·±åº¦åˆ¤å†³**ï¼ˆä½¿ç”¨ ReAct å¾ªç¯ï¼‰
   ```
   @è£åˆ¤é•¿ 4060èƒ½è·‘AIå—ï¼Ÿ
   ```

2. **æé€Ÿåˆ¤å†³**ï¼ˆå¹¶å‘å¤šé‡äººæ ¼ï¼‰
   ```
   /å¿«é€Ÿåˆ¤å†³ M3 Airèƒ½è®­ç»ƒå¤§æ¨¡å‹å—ï¼Ÿ
   ```

3. **æŸ¥æˆåˆ†**
   ```
   /æŸ¥æˆåˆ†
   ```

4. **å¸®åŠ©**
   ```
   /è£åˆ¤é•¿å¸®åŠ©
   ```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### å»¶è¿Ÿå¥—åˆ©ç­–ç•¥

èµ›åšè£åˆ¤é•¿ä½¿ç”¨ Cerebras çš„æé€Ÿ APIï¼Œå®ç°äºšç§’çº§å“åº”ï¼š

- **å•æ¬¡æ¨ç†**: ~200ms
- **å¹¶å‘ä¸‰äººæ ¼**: ~300ms (å¹¶å‘æ‰§è¡Œ)
- **ReAct å¾ªç¯** (3è½®): ~600ms

### å¹¶å‘å¤šé‡äººæ ¼

```python
# åŒæ—¶è¯·æ±‚ä¸‰ä¸ªäººæ ¼
responses = await personality_manager.get_best_response(message)
# é€‰æ‹©æœ€ä½³å›å¤
best = max(responses, key=lambda x: x['score'])
```

## ğŸ§ª æµ‹è¯•

```bash
make test
```

## ğŸ“ˆ ç›‘æ§

æŸ¥çœ‹ Bot æ—¥å¿—ï¼š

```bash
tail -f logs/cyber_judge.log
```

æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡ï¼š

```bash
sqlite3 data/memory.db "SELECT COUNT(*) FROM user_messages;"
```

## ğŸ› æ•…éšœæ’é™¤

### Bot æ— æ³•è¿æ¥åˆ° NapCatQQ

æ£€æŸ¥ NapCatQQ æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
```bash
curl http://localhost:3000
```

### Cerebras API æŠ¥é”™

æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®ï¼š
```bash
echo $CEREBRAS_API_KEY
```

### çˆ¬è™«æŠ“å–å¤±è´¥

å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–åçˆ¬è™«ï¼Œå°è¯•ï¼š
- é™ä½å¹¶å‘æ•°ï¼ˆä¿®æ”¹ `harvester/main.go` ä¸­çš„ `Concurrency`ï¼‰
- å¢åŠ å»¶è¿Ÿï¼ˆä¿®æ”¹ `Delay` å‚æ•°ï¼‰

## ğŸ¯ ä¸‹ä¸€æ­¥

- [ ] æ·»åŠ æ›´å¤šæ•°æ®æº
- [ ] å®ç°è‡ªåŠ¨å½’æ¡£åŠŸèƒ½
- [ ] æ¥å…¥æœ¬åœ°æ¨¡å‹ï¼ˆRTX 4060ï¼‰
- [ ] æ·»åŠ å‘é‡æ£€ç´¢ï¼ˆChromaDBï¼‰
- [ ] å®ç°å¤šç¾¤ç®¡ç†

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®Œæ•´æ¶æ„æ–‡æ¡£](README.md)
- [API æ–‡æ¡£](docs/API.md)
- [å¼€å‘æŒ‡å—](docs/DEVELOPMENT.md)

## ğŸ’¬ åé¦ˆ

æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿæ¬¢è¿æ Issueï¼

